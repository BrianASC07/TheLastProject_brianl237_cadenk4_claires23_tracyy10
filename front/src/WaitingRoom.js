import React, { useState } from "react";
import { Night } from './Night.js';

export function WaitingRoom({ socket, username, room, role, spectator }) {
  const [userList, setUserList] = useState([]);

  const options = async () => {
    await socket.emit("request_userList", room);
  };

  socket.on("user_list", (data) => {
    setUserList(data);
  });

  if (userList.length === 5) {
    return <Night socket={ socket } username={ username } room={ room } role={ role } spectator= { spectator }/>
  }

  options();
  return (
    <div>
      <p> cats over cows </p>
      <p> (WAITING ROOM) </p>
    </div>
  )
}

////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////
//////// get around it sending you back to the waiting room by making a back button ////////
////////////////////////////////////////////////////////////////////////////////////////////
////////////////////// or if spectator is true send back to joinroom ///////////////////////
////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////
